(function(t){function e(e){for(var s,r,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)r=o[p],n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("9e74"),n=a.n(s);n.a},"32e8":function(t,e,a){t.exports=a.p+"img/title.ac926495.png"},"4c77":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("dac5"),a("6e26"),a("9604"),a("df67");var s=a("56be"),n=a.n(s),i=(a("2ed4"),a("6e6d")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],c=(a("034f"),a("17cc")),u={},l=Object(c["a"])(u,r,o,!1,null,null,null),p=l.exports,d=a("1e6f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[t.rewardMaskShow?s("div",{staticClass:"rewardWrap",on:{click:function(e){t.rewardMaskShow=!1}}},[s("p",{staticClass:"animated bounceInDown"},[t._v("恭喜您抽中特等奖！")]),s("img",{staticClass:"reward animated",class:{zoomIn:t.isZoomIn,tada:t.isTada},attrs:{src:a("5a06"),alt:""}})]):t._e(),t.tipMsg?s("div",{staticClass:"tipMsg"},[t._v(t._s(t.tipMsg))]):t._e(),s("img",{staticClass:"lightBg",attrs:{src:a("a8ed"),alt:""}}),s("img",{staticClass:"topBg",attrs:{src:a("609f"),alt:""}}),s("img",{staticClass:"logo",attrs:{src:a("cfe5"),alt:""}}),s("img",{staticClass:"title",attrs:{src:a("32e8"),alt:""}}),s("div",{staticClass:"wheelWrap"},[s("ul",{staticClass:"wheel"},t._l(t.goodsList,function(e){return s("li",[s("div",[s("span",[t._v(t._s(e.name))]),s("span")])])}),0)]),s("div",{staticClass:"startDraw",on:{click:function(e){return t.startDraw()}}}),s("div",{staticClass:"btn1 btnYellow"},[t._v("\n        当前积分："+t._s(t.score)+"\n    ")]),s("div",{staticClass:"btn1 btnBlue",on:{click:function(e){return t.toRecord()}}},[t._v("\n        查看中奖纪录\n    ")]),s("img",{staticClass:"bottomBg",attrs:{src:a("bd7e"),alt:""}})])},g=[],m=a("fed1"),h={name:"luckyWheel",data:function(){return{api:"/api",score:"0",userId:"",goodsList:[{pic:"../../public/images/awards01.png",name:"特等奖"},{pic:"../../public/images/awards01.png",name:"谢谢参与"},{pic:"../../public/images/awards01.png",name:"40积分"},{pic:"../../public/images/awards01.png",name:"16积分"},{pic:"../../public/images/awards01.png",name:"8积分"},{pic:"../../public/images/awards01.png",name:"4积分"}],isCanDraw:!0,angles:null,tipMsg:"",isRotate:!1,rewardMaskShow:!1,isZoomIn:!1,isTada:!1}},created:function(){this.userId=this.$route.query.userId,console.log(this.$store.state.api),this.$store.state.api&&(this.api=this.$store.state.api);var t=new Date,e=(t.getFullYear(),t.getMonth()+1);e<10&&(e="0"+e);var a=t.getDate();a<10&&(a="0"+a),$(".wheel").addClass("rotate");this.getScore()},mounted:function(){},methods:{toRecord:function(){var t=this;this.isRotate?(t.tipMsg="抽奖结束才能查看中奖纪录哦！",setTimeout(function(){t.tipMsg=""},2e3)):this.$router.push({path:"/wheelRecord",query:{userId:t.userId}})},startDraw:function(t){var e=this;this.isCanDraw&&this.$http.post("https://commonapi.matrixpr.net/commonapi/prize/create",m.stringify({userid:e.userId})).then(function(t){console.log(t),console.log(parseInt(t.data.return_code)),t.data.mData?(e.isCanDraw=!1,$(".wheelWrap").css({transform:"rotate(0)",transition:"0s linear"}),e.isRotate=!0,e.angles=parseInt(t.data.mData.prize_angle),e.angles+=3600,setTimeout(function(){e.rotate($(".wheelWrap"),e.angles)},100),setTimeout(function(){switch(e.isCanDraw=!0,e.isRotate=!1,e.getScore(),console.log(t.data.mData.prize_angle),parseInt(t.data.mData.prize_angle)){case 0:e.rewardMaskShow=!0,e.isZoomIn=!0,setTimeout(function(){e.isZoomIn=!1,e.isTada=!0},1e3);break;case 60:e.showTipMsg("恭喜您获得4积分！");break;case 120:e.showTipMsg("恭喜您获得8积分！");break;case 180:e.showTipMsg("恭喜您获得16积分！");break;case 240:e.showTipMsg("恭喜您获得40积分！");break;case 300:e.showTipMsg("谢谢参与哦！");break}},3100)):(e.tipMsg="每天只能抽奖一次哦！",setTimeout(function(){e.tipMsg=""},2e3))}).catch(function(t){console.log(t)})},showTipMsg:function(t){var e=this;e.tipMsg=t,setTimeout(function(){e.tipMsg=""},2e3)},getScore:function(){var t=this;this.$http.post("https://commonapi.matrixpr.net/commonapi/prize/get",m.stringify({userid:t.userId})).then(function(e){console.log(e.data.mData.score),e.data.mData&&e.data.mData.score?t.score=e.data.mData.score:t.score=0}).catch(function(t){console.log(t)})},rotate:function(t,e){t.css({transform:"rotate("+e+"deg)",transition:"3s linear"})}}},v=h,w=(a("e7f8"),Object(c["a"])(v,f,g,!1,null,"53962841",null)),b=w.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wheelRecordWrap"},[a("div",{staticClass:"title"},[t._v("中奖纪录")]),a("div",{staticClass:"recordWrap"},[t._m(0),a("ul",[t._l(t.entities,function(e){return a("li",[a("span",[t._v(t._s(e.create_time))]),a("span",[t._v(t._s(e.prize_type))])])}),0===t.entities.length?a("li",{staticClass:"noMore"},[t._v("暂时没有更多中奖纪录哦！")]):t._e()],2)])])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recordTitle"},[a("span",[t._v("中奖时间")]),a("span",[t._v("所中奖品")])])}],M=a("fed1"),C={name:"wheelRecord",data:function(){return{api:"/api",userId:"",entities:[]}},created:function(){var t=this;this.userId=this.$route.query.userId,console.log(this.$store.state.api),this.$store.state.api&&(this.api=this.$store.state.api);var e=new Date,a=(e.getFullYear(),e.getMonth()+1);a<10&&(a="0"+a);var s=e.getDate();s<10&&(s="0"+s),this.$http.post("https://commonapi.matrixpr.net/commonapi/prize/get",M.stringify({userid:t.userId})).then(function(e){console.log(e.data),e.data.mData&&e.data.mData.entities&&(t.entities=e.data.mData.entities)}).catch(function(t){console.log(t)})},mounted:function(){},methods:{}},D=C,k=(a("9f48"),Object(c["a"])(D,_,y,!1,null,"5b346cda",null)),I=k.exports;i["default"].use(d["a"]);var T=new d["a"]({routes:[{path:"/",redirect:"/luckyWheel"},{path:"/luckyWheel",name:"luckyWheel",component:b},{path:"/wheelRecord",name:"wheelRecord",component:I}]}),x=a("591a"),S=a("660a"),O=a.n(S),j=a("6fe8"),R=a.n(j);i["default"].use(x["a"]),i["default"].use(O.a),i["default"].use(R.a),console.log("vuex");var W=new x["a"].Store({state:{api:""},mutations:{},actions:{}}),z=a("5b79"),B=a.n(z),P=a("24ce"),E=a.n(P),Z=a("93aa"),q=a.n(Z);a("9849");i["default"].config.productionTip=!1,i["default"].prototype.$http=B.a,i["default"].prototype.HOST="/ddmp",i["default"].prototype.$echarts=E.a,i["default"].use(n.a),i["default"].use(q.a),i["default"].use(R.a),T.beforeEach(function(t,e,a){t.meta.title&&(document.title=t.meta.title),a()}),new i["default"]({router:T,store:W,render:function(t){return t(p)}}).$mount("#app")},"5a06":function(t,e,a){t.exports=a.p+"img/reward.a65370a3.png"},"609f":function(t,e,a){t.exports=a.p+"img/topBg.ae8c1b28.png"},"9e74":function(t,e,a){},"9f48":function(t,e,a){"use strict";var s=a("4c77"),n=a.n(s);n.a},a8ed:function(t,e,a){t.exports=a.p+"img/lightBg.155ceeb4.png"},bd7e:function(t,e,a){t.exports=a.p+"img/bottomBg.7aaa5c33.png"},cfe5:function(t,e,a){t.exports=a.p+"img/logo.70563ca8.png"},e7f8:function(t,e,a){"use strict";var s=a("fc34"),n=a.n(s);n.a},fc34:function(t,e,a){}});
//# sourceMappingURL=app.7893ef27.js.map